<a name="top"></a>
[Back to Main](https://github.com/caxylive/Net_Projects/blob/main/README.md)

---

Author: [Carl Xymon Verdejo](https://hardworking-lion-z4sd3b.mystrikingly.com/) </br>
Contact: carl.xymon.verdejo@gmail.com

---

## Objective

This document outlines the process of capturing and analyzing HTTP traffic using Wireshark, based on David Bombal's "Wireshark Basics - Part 1" video. The goal is to demonstrate the practical application of Wireshark for network traffic analysis and to reinforce key networking concepts.

## Scenario

A basic network topology was established using GNS3, consisting of a PC (10.1.1.1) and a server (10.1.1.100) connected via a layer 2 switch. HTTP traffic was generated by accessing a webpage hosted on the server from the PC. Wireshark was used to capture and analyze the traffic between the PC and the switch.

## Capture and Analysis

1.  **Traffic Capture:**
    * Wireshark was initiated to capture traffic on the link between the PC and the switch.
    * An HTTP filter was applied to isolate the relevant traffic.
2.  **Frame Analysis (Layer 2):**
    * Ethernet II frames were observed.
    * Source and destination MAC addresses were identified, confirming the communication between the PC and server.
    * The reversal of MAC addresses in the server's response was noted, demonstrating layer 2 switching behavior.
3.  **Packet Analysis (Layer 3):**
    * IPv4 packets were observed.
    * Source and destination IP addresses were identified, confirming the communication between 10.1.1.1 and 10.1.1.100.
    * The TCP protocol was identified within the IPv4 header.
4.  **Segment Analysis (Layer 4):**
    * TCP segments were observed.
    * Source and destination port numbers were identified (ephemeral port on the PC, port 80 on the server).
    * The TCP handshake and data transfer were observed.
5.  **Application Layer Analysis (Layer 7):**
    * HTTP GET requests from the PC to the server were observed.
    * HTTP 200 OK responses from the server were observed.
    * The HTML content of the webpage and the PNG image were identified within the HTTP data stream.
    * The clear text nature of HTTP traffic was demonstrated.
6.  **Data Extraction:**
    * The PNG image data was extracted from the HTTP response using Wireshark's "Export Packet Bytes" feature.
    * The extracted data was saved and renamed to a PNG file, confirming successful extraction.

## Key Observations

* Wireshark effectively captured and displayed network traffic at various OSI layers.
* The analysis demonstrated the flow of data between the PC and server.
* The swapping of MAC and IP addresses in the return traffic confirmed layer 2 and layer 3 behavior.
* HTTP traffic was observed in clear text, highlighting potential security risks.
* Wireshark's data extraction capabilities were demonstrated.

## Technical Skills Reinforced

* Wireshark traffic capture and filtering.
* OSI model layer analysis (layers 2, 3, 4, and 7).
* Protocol analysis (Ethernet, IP, TCP, HTTP).
* Data extraction from network traffic.
* Understanding of layer 2 switching and layer 3 routing behavior.

## Conclusion

This analysis provided a practical demonstration of Wireshark's capabilities for network traffic analysis. The process reinforced key networking concepts and demonstrated the importance of network visibility for troubleshooting and security. Future analysis will focus on more complex network scenarios and protocols.


## Objective

This document summarizes David Bombal's "Wireshark Basics - Part 2" video, which focuses on the importance of capture placement in network traffic analysis. The video demonstrates how traffic flow and switch behavior affect Wireshark captures, highlighting the need for strategic capture points.

## Scenario

The same GNS3 topology from the previous video is used, consisting of a PC (10.1.1.1), a server (10.1.1.100), and a router (10.1.1.254) acting as a DNS and DHCP server, all connected via a layer 2 switch. The objective is to understand why capturing traffic at certain points in the network does not reveal all communication.

## Analysis and Observations

1.  **Capture Placement Impact:**
    * Capturing traffic on the link between the switch and the router (rather than between the switch and PC or switch and server) failed to capture HTTP traffic between the PC and server.
    * This demonstrates that traffic is not flooded to all ports on a switch once the switch has learned the MAC addresses involved in the communication.
2.  **DNS Traffic Capture:**
    * DNS queries from the PC to the router (DNS server) were captured successfully.
    * This confirmed that the PC was using the router as its DNS server.
    * The capture showed the DNS query and response, including the resolution of `gns3.com` to 10.1.1.100.
    * The use of UDP port 53 for DNS was observed.
3.  **Switch MAC Address Table:**
    * The switch's MAC address table was examined to demonstrate how the switch learns and forwards traffic.
    * The switch learned the MAC addresses of the PC, server, and router on their respective ports.
    * Once the switch learned the MAC addresses of the PC and server, traffic was forwarded directly between them, not to other ports.
4.  **Traffic Flow Explanation:**
    * The switch's behavior of forwarding traffic directly between known MAC addresses was explained.
    * This explained why HTTP traffic between the PC and server was not captured on the link between the switch and router.
    * Traffic between the PC and server was directly switched, and did not traverse the link between the switch and the router.
5.  **Router as DNS/DHCP Server:**
    * The router was configured as a DNS server using `ip dns server`.
    * Static DNS entries were configured to resolve `gns3.com` to 10.1.1.100.
    * The router also acted as a DHCP server, dynamically allocating IP addresses to the PCs.
    * The configuration of the router was shown with `show run | include dns`, and `show interface gigabit 0/0` to show the IP and MAC address of the interface.

## Key Takeaways

* **Capture Placement Matters:** The location of the Wireshark capture is critical for capturing specific traffic flows.
* **Switch Behavior:** Switches learn MAC addresses and forward traffic directly between known devices, not flooding to all ports.
* **DNS Operation:** DNS resolves domain names to IP addresses using UDP port 53.
* **Router Functionality:** Cisco routers can act as DNS and DHCP servers.
* **Need for Mirroring/Taps:** To capture traffic between specific devices connected to a switch, port mirroring/spanning or network taps are necessary.

## Technical Skills Reinforced

* Understanding switch MAC address table behavior.
* Analyzing DNS traffic using Wireshark.
* Understanding the role of a router as a DNS and DHCP server.
* Recognizing the importance of capture placement in network analysis.

## Conclusion

This video emphasized the importance of understanding network traffic flow and switch behavior when using Wireshark. It highlighted the need for strategic capture points and the limitations of capturing traffic at arbitrary locations. The next video will demonstrate how to use port mirroring to capture traffic between specific devices.

[Back to Top](#top)
